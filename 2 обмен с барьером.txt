void barrier_sort(int* a, int n)
{
    int bound, t;
    bound = n;//выбираем границу справа для сравниваемых элементов
    do {
        t = 0;//предполагаем, что на данном проходе алгоритма обменов не будет, т.е. все эл-ты упорядочены
        //срвниваем все соседние элементы
        for (int i = 0; i < bound - 1; i++) 
            if (a[i] > a[i + 1]) {
	            std::swap(a[i], a[i + 1]);
	            t = i;//запоминаем место последнего обмена
	        }
	    bound = t + 1;//запоминаем место последнего обмена как правую границу
	} while (t != 0);
}